<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<h2>图像组合</h2>
	<p>globalCompositeOperation = {source-in | source-over | source-atop | destination-in | destination-out | destination-atop | destination-over | lighter | copy }</p>

	<p>source-over: 绘制新图像在原图像之上</p>
	<p>destination-over: 绘制新图像在原图像之下</p>
	<p>source-in: 显示交集内容新图像颜色</p>
	<p>destination-in: 显示交集内容 原图像颜色</p>
	<p>source-out: 新图像非交集内容</p>
	<p>destination-out: 原图像非交集内容</p>
	<p>source-atop: 原图像以及交集内容</p>
	<p>destination-atop: 新图像以及交集内容</p>
	<p>lighter: 交集内容的颜色叠加</p>
	<p>copy: 只显示新图像</p>
	<canvas id="canvas" width="800" hieght="800"></canvas>
	<script type="text/javascript">
		var canvas = document.getElementById("canvas");
		var ctx = canvas.getContext("2d");

		var box = new Array("source-over", "destination-over", "source-in", "destination-in", "source-out", "destination-out", "source-atop", "destination-atop","lighter", "copy");
		
		var i = 0;
		var test = setInterval(function(){
			i++;
			if(i === 10)
				i= 0;
		ctx.fillStyle = "orange";
		ctx.rect(0,0,100,100);
		ctx.fill();

		ctx.globalCompositeOperation = box[i];
		console.log(box[i]);
		ctx.beginPath();
		ctx.fillStyle = "deepskyblue";
		ctx.arc(100,100,50,0,2*Math.PI, false);
		ctx.fill();
		}, 2000);
	</script>
</body>
</html>